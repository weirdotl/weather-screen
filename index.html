<!DOCTYPE html>

<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <title>气象交通可视化</title>
    <link rel="stylesheet" href="css/app.css" />
  </head>

  <body class="bg04">
    <header class="header">
      <h3>气象交通可视化</h3>
    </header>

    <div class="container">
      <div class="row">
        <div class="col-3">
          <div class="panel-wrapper panel-wrapper-2">
            <div class="panel"></div>
          </div>
          <div class="panel-wrapper panel-wrapper-2">
            <div class="panel"></div>
          </div>
        </div>
        <div class="col-6">
          <div class="panel-wrapper panel-wrapper-1">
            <div class="panel">
              <div id="mapContainer"></div>
            </div>
          </div>
        </div>
        <div class="col-3">
          <div class="panel-wrapper panel-wrapper-3">
            <div class="panel">
              <div id="rainChart"></div>
            </div>
          </div>
          <div class="panel-wrapper panel-wrapper-3">
            <div class="panel"></div>
          </div>
          <div class="panel-wrapper panel-wrapper-3">
            <div class="panel"></div>
          </div>
        </div>
      </div>
    </div>

    <script
      type="text/javascript"
      src="https://api.map.baidu.com/api?v=1.0&&type=webgl&ak=0bzMFHUePZfo1vVvmlsy7oQE6kvhKGbD"
    ></script>
    <script type="text/javascript" src="./js/map_config.js"></script>
    <script type="text/javascript" src="./js/echarts.js"></script>
    <script>
      function initMap() {
        var map = new BMapGL.Map("mapContainer");
        var point = new BMapGL.Point(116.404, 39.915);
        map.centerAndZoom(point, 15); // 初始化地图，设置中心点坐标和地图级别 3-19
        map.setMapStyleV2({ styleJson: map_theme_config });
        map.enableScrollWheelZoom(); //启用滚轮放大缩小，默认禁用
      }

      function initRainChart() {
        let option = {
          xAxis: {
            type: "category",
            data: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
          },
          yAxis: {
            type: "value",
          },
          series: [
            {
              data: [820, 932, 901, 934, 1290, 1330, 1320],
              type: "line",
            },
          ],
        };
        var rainChart = echarts.init(document.getElementById('rainChart'));
        rainChart.setOption(option);
      }

      window.onload = function () {
        initMap();
        initRainChart();
      };
    </script>
  </body>
</html>
